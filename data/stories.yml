version: "3.0"

stories:

- story: happy path
  steps:
  - intent: greet
  - action: utter_greet
  - intent: mood_great
  - action: utter_happy

- story: sad path 1
  steps:
  - intent: greet
  - action: utter_greet
  - intent: mood_unhappy
  - action: utter_cheer_up
  - action: utter_did_that_help
  - intent: affirm
  - action: utter_happy

- story: sad path 2
  steps:
  - intent: greet
  - action: utter_greet
  - intent: mood_unhappy
  - action: utter_cheer_up
  - action: utter_did_that_help
  - intent: deny
  - action: utter_goodbye

- story: intro
  steps:
  - intent: greet
  - action: utter_greet


# order coffee

- story: Activate coffee preference form, provide a list of coffee ğŸ“„
  steps:
  - intent: order_coffee
  - action: utter_order_coffee
  - active_loop: null
  - intent: ask_coffee_list
  - action: action_coffee_list
  - action: utter_ask_coffee_name
  - intent: inform_coffee_name
  - action: action_confirm_coffee_name
  - action: coffee_preference_form
  - active_loop: coffee_preference_form
  - slot_was_set:
    - requested_slot: sweetness
  - slot_was_set:
    - requested_slot: size
  - slot_was_set:
    - requested_slot: ice_or_hot
  - slot_was_set:
    - requested_slot: add_milk_or_not
  - active_loop: null
  - action: utter_coffee_pre_submit
  - action: utter_coffee_pre_values

  
- story: Activate coffee preference form, user input a coffee name â˜•
  steps:
  - intent: order_coffee
  - action: utter_order_coffee
  - active_loop: null
  - intent: inform_coffee_name
  - action: action_confirm_coffee_name
  - action: coffee_preference_form
  - active_loop: coffee_preference_form
  - slot_was_set:
    - requested_slot: sweetness
  - slot_was_set:
    - requested_slot: size
  - slot_was_set:
    - requested_slot: ice_or_hot
  - slot_was_set:
    - requested_slot: add_milk_or_not
  - active_loop: null
  - action: utter_coffee_pre_submit
  - action: utter_coffee_pre_values  


- story: â˜• coffee preference form finish, user agree ğŸ‘
  steps:
  - action: utter_coffee_pre_submit
  - action: utter_coffee_pre_values
  - intent: affirm
  - action: utter_customer_info
  - action: customer_info_form
  - active_loop: customer_info_form  # fill customer info form
  - slot_was_set:
    - requested_slot: email
  - slot_was_set:
    - requested_slot: address
  - slot_was_set:
    - requested_slot: customer_name
  - active_loop: null
  - action: utter_customer_info_submit
  - action: utter_customer_info_values  

- story: â˜• coffee preference form finish, user deny âŒ
  steps:
  - action: utter_coffee_pre_submit
  - action: utter_coffee_pre_values
  - intent: deny
  - action: action_reset_coffee_preference_form
  - active_loop: null
  - action: action_coffee_list
  - action: utter_ask_coffee_name
  - intent: inform_coffee_name
  - action: action_confirm_coffee_name
  - action: coffee_preference_form
  - active_loop: coffee_preference_form
  - slot_was_set:
    - requested_slot: sweetness
  - slot_was_set:
    - requested_slot: size
  - slot_was_set:
    - requested_slot: ice_or_hot
  - slot_was_set:
    - requested_slot: add_milk_or_not
  - active_loop: null
  - action: utter_coffee_pre_submit
  - action: utter_coffee_pre_values



- story: ğŸ‘¨ customer information form finish, user agree ğŸ‘
  steps:
  - action: utter_customer_info_submit
  - action: utter_customer_info_values
  - intent: affirm
  - action: utter_completed

- story: ğŸ‘¨ customer information form filling, user deny âŒ
  steps:
  - action: utter_customer_info_submit
  - action: utter_customer_info_values
  - intent: deny
  - action: action_reset_customer_info_form
  - active_loop: null
  - action: utter_customer_info  
  - action: customer_info_form
  - active_loop: customer_info_form
  - slot_was_set:
    - requested_slot: email
  - slot_was_set:
    - requested_slot: address
  - slot_was_set:
    - requested_slot: customer_name
  - active_loop: null
  - action: utter_customer_info_submit
  - action: utter_customer_info_values 







# - story: order coffee
#   steps:
#   - intent: order_coffee
#   - action: utter_order_coffee
#   # - intent: ask_coffee_list # optional
#   # - action: return_coffee_list # py

#   # - intent: answer_coffee_name 
#   # - action: check_coffee_name # py
#   - action: coffee_preference_form
#   - active_loop: coffee_preference_form
#   # - action: return_coffee_info 
  # - intent: confirm_coffee_info
  # - active_loop: customer_info_form
  # - action: return_customer_info
  # - intent: confirm_customer_info
  # - action: submit_order # py

# 1. slotçš„å†…å®¹å¦‚ä½•è¯†åˆ«
# 2. oré€»è¾‘å¦‚ä½•å®ç°
# 3. action çš„ python é€»è¾‘
# 4. coffeeçš„ç§ç±»å’Œå±æ€§
# 5. rules å’Œ stories çš„åŒºåˆ«

  
  


